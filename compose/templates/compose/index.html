{% extends 'base.html' %}

{% load static %}

{% block extrahead %}
<script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>

<script src="{% static 'compose/js/index.js' %}"></script>

<link rel="stylesheet" href="{% static 'compose/css/index.css' %}">
{% endblock %}

{% block content %}
<div class="container">
  {% csrf_token %}

  {% include 'compose/accountmenu.html' %}

  <textarea id="text-input">{{ entry.text }}</textarea>

  <p id="error-message"></p>

  <p>
    <span id="word-count">0 words</span>
    (<span id="cumulative-word-count">{{ total_word_count }}</span> to date)
  </p>

  <p>
    You need <span id="words-to-goal">{{ words_to_goal }} more word{{ words_to_goal|pluralize}}</span>
    to meet your daily goal of <span id="goal">{{ entry.word_count_goal }}</span>
    <!-- Hidden initially -->
    <input type="number" id="goal-input" step="10" min="10">
    words.
    <button id="edit-button">Edit</button>

    <!-- These buttons are hidden to begin with. -->
    <button id="save-button">Save</button>
    <button id="cancel-button">Cancel</button>
  </p>

  <p>
    You are on a <span id="streak-length">{{ streak_length }}</span> day streak.
  </p>

  {% include 'compose/pastentries.html' %}
</div>
{% endblock %}
